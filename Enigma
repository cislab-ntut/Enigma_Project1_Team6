#include <iostream>
using namespace std;

struct Rotor
{
	string a;
	string pin, start;
};

Rotor rotor1 = { "EKMFLGDQVZNTOWYHXUSPAIBRCJ", "Q", "Y" };
Rotor rotor2 = { "AJDKSIRUXBLHWTMCQGZNPYFVOE", "E", "M" };
Rotor rotor3 = { "BDFHJLCPRTXVZNYEIWGAKMUSQO", "V", "D" };
Rotor rotor4 = { "ESOVPZJAYQUIRHXLNFTGKDCMWB", "J", "R" };
Rotor rotor5 = { "VZBRGITYUPSDNHLXAWMJQOFECK", "Z", "H" };

Rotor rotor[3];

string reflector = "YRUHQSLDPXNGOKMIEBFZCWVJAT";

int change1, change2;

int input, output;

//選盤子
void set()
{
	int plate[3];
	do {
		cout << "輸入第一個盤子(1~5): ";
		cin >> plate[0];
		cout << endl;
	} while (plate[0] < 1 || plate[0] > 5);
	do {
		cout << "輸入第二個盤子(1~5): ";
		cin >> plate[1];
		cout << endl;
	} while (plate[1] < 1 || plate[1] > 5 || plate[1] == plate[0]);
	do {
		cout << "輸入第三個盤子(1~5): ";
		cin >> plate[2];
		cout << endl;
	} while (plate[2] < 1 || plate[2] > 5 || plate[2] == plate[0] || plate[2] == plate[1]);
	for (int i = 0; i < 3; i++) {
		for (int j = 0; j < 5; j++) {
			if (plate[i] == 1)
				rotor[i] = rotor1;
			else if (plate[i] == 2)
				rotor[i] = rotor2;
			else if (plate[i] == 3)
				rotor[i] = rotor3;
			else if (plate[i] == 4)
				rotor[i] = rotor4;
			else
				rotor[i] = rotor5;
		}
	}
	for (int i = 0; i < 3; i++)
		cout << rotor[i].a << endl;

	//隨機產生change，從 0~26， 0為不交換
	srand(time(NULL));
	change1 = rand() % 27;
	if (change1 == 0)
		change2 = 0;
	else
		do {
			change2 = rand() % 27;
		} while (change2 == 0);
	//cout << change1 << "  " << change2 << endl;

	system("pause");
}

//加密
void encrypt()
{
	//換一個 plug
	if (input == change1)
		input = change2;
	else if(input == change2)
		input = change1;

	int outRotor1 = (rotor[0].start[0] + input) % 26;

	int inRotor1 = rotor[0].a[outRotor1]+26- rotor[0].start[0];
}

//測試
void test()
{

}


int main() {

	set();
	encrypt();
	test();
	int a = 'A';
	cout << a;
	return 0;
}
